# velero-pvc-backup-scheduler

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![AppVersion: 5.2.0](https://img.shields.io/badge/AppVersion-5.2.0-informational?style=flat-square)

Helm addon for adding a [Velero Scheduler](https://velero.io/docs/main/api-types/schedule/) that backups any PersistentVolumeClaim by using [CSI snapshots](https://velero.io/docs/main/csi/) given any existint helm deployment

## Example
```yaml
apiVersion: v2
name: mongodb
version: 0.1.0
dependencies:
  - name: mongodb
    alias: mongodb
    version: 13.6.2
    repository: https://charts.bitnami.com/bitnami
  # add velero scheduler to enable PVC backups via snapshots
  - name: velero-pvc-backup-scheduler
    version: 2.1.3
    repository: https://ubix.github.io/ubix-charts
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| autoRestore | bool | `false` | Enable restore from last or a specific backup |
| backupName | string | `""` | Set backup to restore from |
| backupGarbageCollectionTTL | string | `"168h0m0s"` | TTL for cleaning old backups |
| backupScheduleCron | string | `"0 0,8,16 * * *"` | Cron for taking backups |
| veleroInstallNamespace | string | `"addons"` | Namespace on which velero is installed |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.12.0](https://github.com/norwoodj/helm-docs/releases/v1.12.0)

## Restore process

To restore just enable `autoRestore: true` to enable restore from the last backup.

For other scenarios please check
- [Velero CLI or the Restore CRDs](https://velero.io/docs/main/restore-reference/),
- [Cluster Migration with Velero](https://velero.io/docs/main/migration-case/)
- [Cluster Disaster Recovery](https://velero.io/docs/main/disaster-case/)

## Manual backup

To issue a manual backup just run
```bash
velero -n velero-install-namespace backup create --from-schedule schedule-name
```
